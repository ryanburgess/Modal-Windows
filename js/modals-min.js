!function(a){"use strict";function b(){a(".window").css("top",(a(window).height()-a(".window").height())/2+a(window).scrollTop()+"px").css("left",(a(window).width()-a(".window").width())/2+a(window).scrollLeft()+"px"),a("#mask").css({width:a(window).width(),height:a(document).height()})}a(".modal").on("click",function(b){a("<div id='mask'></div>").appendTo("body");var c=a(this).attr("href"),d="?vq=hd720&autoplay=1&showinfo=0&rel=0";if(-1!==c.indexOf("youtube.com/embed"))c="<iframe src='"+c+d+"' allowfullscreen='allowfullscreen'></iframe>";else if(-1!==c.indexOf("vimeo.com/")){var e=c.split("vimeo.com/");e=e[1],fullContent='<iframe src="//player.vimeo.com/video/'+e+'?color=9C191E&amp;autoplay=1" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'}else(-1!==c.indexOf("jpg")||-1!==c.indexOf("png"))&&(c="<img src='"+c+"'>");a("<div id='modal-window' class='window'>"+c+"<a href='#' class='close'>X</a></div>").appendTo("body");var f=a(document).height(),g=a(window).width();return a("#mask").css({width:g,height:f}).show(),a(".window").css("top",(a(window).height()-a(".window").height())/2+a(window).scrollTop()+"px").css("left",(a(window).width()-a(".window").width())/2+a(window).scrollLeft()+"px").fadeIn(),b.preventDefault(),!1});var c=function(){a("#mask, .window").fadeOut(),a(".window iframe").remove(),setTimeout(function(){a("#mask, .window").remove()},500)};a("body").on("click",".window .close",function(a){a.preventDefault(),c()}),a("body").on("click","#mask",function(a){a.preventDefault(),c()}),a(window).bind("resize",b)}(jQuery);