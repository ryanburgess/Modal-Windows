!function(a){"use strict";function b(){a(".window").css("top",(a(window).height()-a(".window").height())/2+a(window).scrollTop()+"px"),a(".window").css("left",(a(window).width()-a(".window").width())/2+a(window).scrollLeft()+"px"),a("#mask").css({width:a(window).width(),height:a(document).height()})}a('<div id="mask"></div>').appendTo("body"),a(".modal").on("click",function(b){a("#modal-window").remove();var c,d=a(document).height(),e=a(window).width();if(a(this).attr("href").match("^#")){var f=a(this).attr("href");c=a(f).html()}else c=a(this).attr("href");var g=c,h="?vq=hd720&autoplay=1&showinfo=0&rel=0";if(-1!==c.indexOf("youtube.com/embed/")?g='<iframe src="'+c+h+'" allowfullscreen="allowfullscreen"></iframe>':(-1!==c.indexOf("jpg")||-1!==c.indexOf("png"))&&(g='<img src="'+c+'">'),-1!==c.indexOf("youku.com/embed")){var i=860,j=524,k=screen.width/2-i/2,l=screen.height/2-j/2;return window.open(c,"","location=1,resizable=yes,top="+l+",left="+k+",width="+i+",height="+j),b.preventDefault(),!1}return a('<div id="modal-window" class="window">'+g+'<a href="#" class="close">X</a></div>').appendTo("body"),a("#mask").css({width:e,height:d}),a("#mask").show(),a(".window").css("top",(a(window).height()-a(".window").height())/2+a(window).scrollTop()+"px"),a(".window").css("left",(a(window).width()-a(".window").width())/2+a(window).scrollLeft()+"px"),a(".window").fadeIn(),b.preventDefault(),!1}),a("body").on("click",".window .close",function(b){b.preventDefault(),a("#mask, .window").fadeOut(),a(".window iframe").remove()}),a("#mask").on("click",function(b){b.preventDefault(),a("#mask, .window").hide(),a(".window iframe").remove()}),a(window).bind("resize",b)}(jQuery);